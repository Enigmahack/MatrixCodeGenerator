<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Matrix Digital Rain v8.5</title>
    <link rel="stylesheet" href="css/style.css">
    <link id="favicon" rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3C/svg%3E">
</head>
<body>
    <div id="fps-counter" style="display: none;">FPS: 60</div>
    
    <!-- Primary Canvas for Matrix Animation -->
    <canvas id="matrixCanvas" aria-label="Matrix Digital Rain Animation"></canvas>

    <!-- Overlay Canvas for Vector Effects -->
    <canvas id="overlayCanvas" style="z-index: 3; pointer-events: none;"></canvas>

    <!-- Hidden Bloom Canvas for Layer Effects -->
    <canvas id="bloomCanvas" hidden aria-hidden="true"></canvas>

    <!-- Toggle Button for Opening Settings Menu -->
    <button id="menuToggle" aria-controls="settingsPanel" aria-expanded="false" aria-label="Open Settings">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" focusable="false">
            <path d="M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5zm7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03 .66.07 .98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65z"></path>
        </svg>
    </button>

    <!-- Input for Importing Files -->
    <input type="file" id="importFile" accept=".json" hidden aria-label="Import JSON Configuration" />
    <input type="file" id="importFontFile" accept=".ttf,.otf,.woff,.woff2" hidden aria-label="Import Font Files" />

    <!-- Settings Panel -->
    <aside id="settingsPanel" role="dialog" aria-hidden="true">
        <header id="panelHeader" role="banner">
            <h2 class="panel-title">Settings</h2>
        </header>

        <!-- Navigation Tabs -->
        <nav id="navTabs" role="tablist" aria-label="Settings Navigation"></nav>

        <!-- Content Area -->
        <main id="contentArea">
            <!-- Dynamic content will populate through scripts -->
        </main>

        <!-- Panel Footer -->
        <footer id="panelFooter">
            <p id="globalStatus" class="status-msg"></p>
        </footer>
    </aside>

    <!-- Dev Scripts -->
    <script src="js/core/Utils.js"></script>
    <script src="js/config/ConfigurationManager.js"></script>
    <script src="js/data/FontData.js"></script>
    <script src="js/data/CellGrid.js"></script>
    <script src="js/effects/EffectRegistry.js"></script>
    <script src="js/effects/BootEffect.js"></script>
    <script src="js/effects/ClearPulseEffect.js"></script>
    <script src="js/effects/CrashEffect.js"></script>
    <script src="js/effects/DejaVuEffect.js"></script>
    <script src="js/effects/GlowSystem.js"></script>
    <script src="js/effects/MiniPulseEffect.js"></script>
    <script src="js/effects/PulseEffect.js"></script>
    <script src="js/effects/QuantizedStateCache.js"></script>
    <script src="js/effects/GlobalShadowWorld.js"></script>
    <script src="js/effects/QuantizedBaseEffect.js"></script>
    <script src="js/effects/QuantizedAddEffect.js"></script>
    <script src="js/effects/QuantizedBlockGeneration.js"></script>
    <script src="js/effects/QuantizedClimbEffect.js"></script>
    <script src="js/effects/QuantizedPatterns.js"></script>
    <script src="js/effects/QuantizedPulseEffect.js"></script>
    <script src="js/effects/QuantizedRenderer.js"></script>
    <script src="js/effects/QuantizedRetractEffect.js"></script>
    <script src="js/effects/QuantizedSequence.js"></script>
    <script src="js/effects/QuantizedSequenceGenerator.js"></script>
    <script src="js/effects/QuantizedShadow.js"></script>
    <script src="js/effects/QuantizedZoomEffect.js"></script>
    <script src="js/effects/ReverseEffect.js"></script>
    <script src="js/effects/SupermanEffect.js"></script>
    <script src="js/rendering/GlyphAtlas.js"></script>
    <script src="js/rendering/PostProcessor.js"></script>
    <script src="js/rendering/WebGLRenderer.js"></script>
    <script src="js/simulation/SimulationSystem.js"></script>
    <script src="js/simulation/StreamManager.js"></script>
    <script src="js/simulation/StreamModes.js"></script>
    <script src="js/ui/CharacterSelectorModal.js"></script>
    <script src="js/ui/FontManager.js"></script>
    <script src="js/ui/NotificationManager.js"></script>
    <script src="js/ui/QuantizedEffectEditor.js"></script>
    <script src="js/ui/UIManager.js"></script>
    <script src="js/core/MatrixKernel.js"></script>


































































































































































































































    <script>
        // Auto-initialize if not already done by the classes
        // (MatrixKernel initializes itself on DOMContentLoaded)
    </script>
</body>
</html>